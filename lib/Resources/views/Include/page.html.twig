{% spaceless %}
<!DOCTYPE html>
<html lang="{{ locale|slice(0, 2) }}">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{% block title %}{{ block("name") }}{% endblock %}</title>

    {% include "AgitUiBundle:Include:include.langswitch.html.twig" %}
    {% include "AgitPageBundle:Include:include.links.html.twig" %}

    <link rel="icon" href="/favicon.png">

    {% block common_css %}
        {% stylesheets
            "@AgitUiBundle/Resources/public/css/bootstrap.css"
            "@AgitUiBundle/Resources/public/css/bootstrap-theme.css"
            "@AgitUiBundle/Resources/public/css/font.awesome.css"
            "@AgitUiBundle/Resources/public/css/font.roboto.css"
            "@AgitUiBundle/Resources/public/css/layout.css"
            "@AgitUiBundle/Resources/public/css/overlay.css"
            "@AgitUiBundle/Resources/public/css/modal.css"
            "@AgitUiBundle/Resources/public/css/spinner.css"
            "@AgitUiBundle/Resources/public/css/indicator.css"
            "@AgitUiBundle/Resources/public/css/forms.css"
            "@AgitUiBundle/Resources/public/css/common.css"

            filter="?cleancss"
        %}
        <link href="{{ asset_url }}" type="text/css" rel="stylesheet" />
        {% endstylesheets %}

        <style type="text/css">
            .init-nojs, .init-loading { margin: 30px; text-align: center; color: #888 }
            .init-loading { display: none; }
        </style>
    {% endblock %}

    {% block area_css %}
        {# area CSS #}
    {% endblock %}

    {% block css %}
        {# page CSS #}
    {% endblock %}
</head>
<body>
    {% block content %}
        <main>
            <div class="init-nojs">{{ t("Please activate JavaScript in your web browser to use this application.") }}</div>
            <div class="init-loading">{{ t("Please wait while the application is loading.") }}</div>
        </main>
    {% endblock %}

    {% block common_templates %}
        {% include "AgitUiBundle:Include:template.page.html.twig" %}
        {% include "AgitUiBundle:Include:template.forms.html.twig" %}
        {% include "AgitUiBundle:Include:template.modal.html.twig" %}
        {% include "AgitUiBundle:Include:template.indicator.html.twig" %}
    {% endblock %}

    {% block area_templates %}
        {# area template includes #}
    {% endblock %}

    {% block templates %}
        {# page template includes #}
    {% endblock %}

    {% block config_js %}
        <script type="text/javascript">/* <![CDATA[ */
            window.ag = window.ag || {};
            ag.cfg = ag.cfg || {};
            ag.cfg.locale = "{{ locale }}";
        /* ]]> */</script>
    {% endblock %}

    {% block common_js %}
        {# hide JS warning #}
        <script type="text/javascript">
            document.write("<style type='text/css'>.init-nojs { display: none; } .init-loading { display: block; }</style>");
        </script>

        {% javascripts
            "@AgitBaseBundle/Resources/public/js/var/init.js"
            "@AgitBaseBundle/Resources/public/js/lib/Collection.js"
            "@AgitBaseBundle/Resources/public/js/lib/Message.js"
            "@AgitBaseBundle/Resources/public/js/lib/MessageHandler.js"
            "@AgitBaseBundle/Resources/public/js/lib/Date.js"
            "@AgitBaseBundle/Resources/public/js/lib/Time.js"

            "@AgitIntlBundle/Resources/public/js/lib/plurals.js"
            "@AgitIntlBundle/Resources/public/js/lib/intl.js"

            "@AgitUiBundle/Resources/public/js/ext/jquery.js"
            "@AgitUiBundle/Resources/public/js/ext/bootstrap.js"
            "@AgitUiBundle/Resources/public/js/ext/ie10-viewport-bug-workaround.js"
            "@AgitUiBundle/Resources/public/js/var/translations.js"

            "@AgitApiBundle/Resources/public/js/lib/Api.js"
            "@AgitApiBundle/Resources/public/js/lib/ApiError.js"
            "@AgitApiBundle/Resources/public/js/lib/Endpoint.js"
            "@AgitApiBundle/Resources/public/js/lib/Object.js"
            "@AgitApiBundle/Resources/public/js/lib/Indicator.js"
            "@AgitApiBundle/Resources/public/js/var/api.js"

            "@AgitUiBundle/Resources/public/js/var/swipe.js"
            "@AgitUiBundle/Resources/public/js/lib/tool/Date.js"
            "@AgitUiBundle/Resources/public/js/lib/tool/Format.js"
            "@AgitUiBundle/Resources/public/js/lib/tool/Template.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/Element.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/State.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/Page.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/View.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/Block.js"
            "@AgitUiBundle/Resources/public/js/lib/ctxt/Form.js"
            "@AgitUiBundle/Resources/public/js/lib/error/FormError.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Field.js"
            "@AgitUiBundle/Resources/public/js/lib/field/NativeField.js"
            "@AgitUiBundle/Resources/public/js/lib/field/ComplexField.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Text.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Number.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Select.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Checkbox.js"
            "@AgitUiBundle/Resources/public/js/lib/field/Password.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Menu.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/MenuEntry.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/LanguageMenuEntry.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/NavigationMenuEntry.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Header.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Title.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Footer.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Callout.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Modal.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/AlertModal.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/ConfirmModal.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Spinner.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/ModalMessageHandler.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/Overlay.js"
            "@AgitUiBundle/Resources/public/js/lib/elem/OverlayIndicator.js"
            "@AgitUiBundle/Resources/public/js/var/debug.js"

            filter="?uglifyjs2"
        %}
        <script src="{{ asset_url }}" type="text/javascript"></script>
        {% endjavascripts %}
    {% endblock %}

    {% block area_js %}
        {# area JS #}
    {% endblock %}

    {% block js %}
        {# page JS #}
    {% endblock %}
</body>
</html>
{% endspaceless %}
